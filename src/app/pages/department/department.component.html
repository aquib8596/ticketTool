<section class="mainSection">
  <div class="container-fluid">
    <div class="row g-3">
      <main class="col-12 col-md-6 col-lg-8">
        <div class="card">
          <div class="card-header bg-info text-center">
            <h4 class="text-white">Department List</h4>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Sr No</th>
                    <th>Department Name</th>
                    <th>Created Date</th>
                    <th class="text-center">Action</th>
                  </tr>
                </thead>
                <tbody>
                  @for (item of deptList; track $index) {
                  <tr>
                    <td>{{ $index + 1 }}</td>
                    <td>{{ item.deptName }}</td>
                    <td>{{ item.createdDate | date : "dd, MMM, YYYY" }}</td>
                    <td class="text-center">
                      <button class="btn btn-primary" (click)="onEdit(item)">
                        Edit
                      </button>
                      <button
                        class="btn btn-danger mx-2"
                        (click)="deleteDept(item.deptId)"
                      >
                        Delete
                      </button>
                    </td>
                  </tr>
                  }
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
      <aside class="col-12 col-md-6 col-lg-4">
        <div class="card">
          <div class="card-header bg-info text-center">
            <h4 class="text-white">New Department</h4>
          </div>
          <div class="card-body">
            <div class="row align-items-center g-3">
              <div class="col-12">
                <label for="deptName" class="form-label">Department Name</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="Enter dept name"
                  id="deptName"
                  [(ngModel)]="newDeptObj.deptName"
                />
              </div>
              @if(this.newDeptObj.deptId ==0){
              <div class="col-12">
                <label for="createdDate" class="form-label">Created Date</label>
                <input
                  type="date"
                  class="form-control"
                  placeholder="Enter dept name"
                  id="createdDate"
                  [(ngModel)]="newDeptObj.createdDate"
                />
              </div>
              }

              <div class="col-6">
                <button class="btn btn-secondary w-100">Reset</button>
              </div>
              <div class="col-6">
                @if(this.newDeptObj.deptId ==0){
                <button class="btn btn-success w-100" (click)="saveDept()">
                  Save Dept
                </button>
                } @else {
                <button class="btn btn-warning w-100" (click)="updateDept()">
                  Update
                </button>
                }
              </div>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </div>
</section>
